<div class="rs-component dnd-component entity-broad flex h">
	<div class="character-data broad-column flex v">
		<h3>Vitals</h3>
		<div class="property-container health flex h v-center">
			<button class="action general rounded" v-on:click="takeDamage()">
				<span>{{entity.hp}}</span>
				<span class="seperator">/</span>
				<span>{{entity.hp_max}}</span>
				<span class="icon fad fa-heartbeat rs-green rs-secondary-solid rs-secondary-white"></span>
			</button>
			<span class="property-label">
				<span>Health Points</span>
			</span>
		</div>
		<div class="property-container health flex h v-center" v-if="entity.hp_temp">
			<button class="action general rounded" v-on:click="takeDamage()">
				<span>{{entity.hp_temp}}</span>
				<span class="icon game-icon game-icon-bell-shield rs-light-blue"></span>
			</button>
			<span class="property-label">
				<span>Temporary Health Points</span>
			</span>
		</div>
		<h3>Defenses</h3>
		<div class="property-container defense flex h v-center">
			<button class="action general rounded" v-on:click="viewDefenses()">
				<span>{{entity.armor}}</span>
				<span class="icon fas fa-shield"></span>
			</button>
			<span class="property-label">
				<span>Armor Class (AC)</span>
			</span>
		</div>
		<div class="property-container defense flex h v-center" v-for="(amount, die) in entity.hit_dice">
			<span class="raw-data">
				<span>{{amount}} / {{entity.hit_dice_max[die]}}</span>
				<span class="icon fa-solid" :class="'fa-dice-' + die"></span>
			</span>
			<span class="property-label">
				<span>{{die}} Hit Die</span>
			</span>
		</div>
		<!--
		<div class="property-container defense flex h v-center" v-for="(amount, die) in entity.hit_dice">
			<button class="action general rounded" v-on:click="useDie(die)">
				<span>{{amount}} / {{entity.hit_dice_max[die]}}</span>
				<span class="icon fa-solid" :class="'fa-dice-' + die"></span>
			</button>
			<span class="property-label">
				<span>{{die}} Hit Dice</span>
			</span>
		</div>
		-->
		<h3>Skills</h3>
		<div class="property-container defense flex h v-center" v-on:click="viewLanguages()">
			<button class="action general rounded">
				<span>{{languages.length}}</span>
				<span class="icon fas fa-comment"></span>
			</button>
			<span class="property-label">
				<span>Languages Spoken</span>
			</span>
		</div>
		<div class="property-container defense flex h v-center">
			<div class="raw-data">
				<span>{{entity.movement_ground}}</span>
				<span class="icon fa-solid fa-running"></span>
			</div>
			<span class="property-label">
				<span>Movement Speed</span>
				<span>({{entity.movement_ground/4}} Squares)</span>
			</span>
		</div>
		<div class="property-container defense flex h v-center" v-if="entity.movement_fly">
			<div class="raw-data">
				<span>{{entity.movement_fly}}</span>
				<span class="icon game-icon game-icon-liberty-wing"></span>
			</div>
			<span class="property-label">
				<span>Flying Speed</span>
				<span>({{entity.movement_fly/4}} Squares)</span>
			</span>
		</div>
		<div class="property-container defense flex h v-center" v-if="entity.movement_swim">
			<div class="raw-data">
				<span>{{entity.movement_swim}}</span>
				<span class="icon fa-solid fa-person-swimming"></span>
			</div>
			<span class="property-label">
				<span>Swimming Speed</span>
				<span>({{entity.movement_swim/4}} Squares)</span>
			</span>
		</div>
		<h3>Goods</h3>
		<div class="property-container defense flex h v-center">
			<button class="action general rounded" v-on:click="emitScrollNotice('inventory')">
				<span>{{formatNumber(entity.weight)}}</span>
				<span class="icon fa-solid fa-weight-scale"></span>
			</button>
			<span class="property-label">
				<span>Total Weight</span>
			</span>
		</div>
		<div class="property-container defense flex h v-center">
			<div class="raw-data" v-on:click="emitScrollNotice('inventory')">
				<span>{{bag_weight}}</span>
				<span class="seperator">/</span>
				<span>{{max_carry}}</span>
				<span class="icon fa-solid fa-backpack"></span>
			</div>
			<span class="property-label">
				<!-- <span class="icon" :class="getWeightScales()"></span> -->
				<span>Bag Weight</span>
			</span>
		</div>
		<div class="property-container defense flex h v-center">
			<button class="action general rounded" v-on:click="transferGold()">
				<span>{{entity.gold}}</span>
				<span v-if="entity.gold_max">
					<span class="seperator">/</span>
					<span>{{entity.gold_max}}</span>
				</span>
				<span class="icon fas fa-coins"></span>
			</button>
			<span class="property-label">
				<span>Gold</span>
			</span>
		</div>
		<h3>World</h3>
		<div class="property-container defense flex h v-center">
			<button class="action general rounded" v-on:click="info(entity.location)">
				<span>{{location?location.name:"No Location"}}</span>
				<span class="icon fa-solid fa-location-pin"></span>
			</button>
			<span class="property-label">
				<span>Current Location</span>
			</span>
		</div>
		<div class="property-container rest flex h">
			<button class="emphasis-stat" v-on:click="takeShortRest()">
				<div class="stat-label">Rest</div>
				<div class="stat-value">
					<span class="icon fas fa-dice"></span>
				</div>
				<div class="stat-foot">Short</div>
			</button>
			<button class="emphasis-stat" v-on:click="takeLongRest()">
				<div class="stat-label">Rest</div>
				<div class="stat-value">
					<span :class="longRestIcon"></span>
				</div>
				<div class="stat-foot">Long</div>
			</button>
		</div>
		<div class="property-container rest flex h">
			<button class="emphasis-stat" v-if="widget.show_home" v-on:click="scrollHome()">
				<div class="stat-label">Scroll</div>
				<div class="stat-value">
					<span class="icon fa-solid fa-arrow-left-long-to-line"></span>
				</div>
				<div class="stat-foot">Home</div>
			</button>
			<button class="emphasis-stat" v-on:click="emitScrollNotice('stats')">
				<div class="stat-label">Scroll</div>
				<div class="stat-value">
					<span class="icon fa-solid fa-table-columns"></span>
				</div>
				<div class="stat-foot">Stats</div>
			</button>
		</div>
	</div>
	<div class="character-stats broad-column flex v">
		<button class="emphasis-stat" v-for="stat in characterStats" v-on:click="performSkillCheck(stat.skill)">
			<div class="stat-label">{{stat.name}}</div>
			<div class="stat-value">{{entity[stat.value_field]}}</div>
			<div class="stat-foot">{{getModifier(stat.modifier_field)}}</div>
		</button>
		<button class="emphasis-stat" v-on:click="emitScrollNotice('spells')">
			<div class="stat-label">Spell DC</div>
			<div class="stat-value">{{entity.spell_dc}}</div>
			<div class="stat-foot">
				<span class="icon fad fa-hand-holding-magic rs-lightpurple rs-secondary-solid rs-secondary-white"></span>
			</div>
		</button>
		<button class="emphasis-stat" v-on:click="performSkillCheck('skill:raw:proficiency')">
			<div class="stat-label">Proficiency</div>
			<div class="stat-value">{{entity.proficiency_rating}}</div>
			<!-- <div class="stat-foot">{{entity.proficiency_rating}}</div> -->
		</button>
	</div>
</div>
